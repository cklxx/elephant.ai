# Generated from .env. Edit if you need literal secrets.
runtime:
  environment: "development"
  profile: "standard"
  llm_provider: "openai"
  llm_model: "ep-20250926173528-8zl5v"
  base_url: "https://ark-cn-beijing.bytedance.net/api/v3"
  api_key: "${LLM_API_KEY}"
  tavily_api_key: "${TAVILY_API_KEY}"
  ark_api_key: "${ARK_API_KEY}"
  max_tokens: 12800
  verbose: false
  proactive:
    enabled: true
    prompt:
      mode: "full"
      timezone: "America/Los_Angeles"
      bootstrap_max_chars: 20000
      bootstrap_files:
        - "AGENTS.md"
        - "SOUL.md"
        - "TOOLS.md"
        - "IDENTITY.md"
        - "USER.md"
        - "HEARTBEAT.md"
        - "BOOTSTRAP.md"
      reply_tags_enabled: false
    okr:
      enabled: true
      goals_root: "~/.alex/goals"
      auto_inject: true
    memory:
      enabled: true
    skills:
      auto_activation:
        enabled: true
        max_activated: 3
        token_budget: 4000
        confidence_threshold: 0.6
      feedback:
        enabled: false
        store_path: "${ALEX_SKILL_FEEDBACK_PATH}"
      cache_ttl_seconds: 300
      meta_orchestrator_enabled: true
      soul_auto_evolution_enabled: true
      proactive_level: "medium"
      policy_path: "configs/skills/meta-orchestrator.yaml"
    scheduler:
      enabled: true
      trigger_timeout_seconds: 900
      concurrency_policy: "skip"
      job_store_path: "${ALEX_SCHEDULER_JOB_STORE_PATH}"
      cooldown_seconds: 0
      max_concurrent: 1
      recovery_max_retries: 0
      recovery_backoff_seconds: 60
      heartbeat:
        enabled: false
        schedule: "*/30 * * * *"
        task: "Read HEARTBEAT.md if it exists. Follow it strictly. If nothing needs attention, reply HEARTBEAT_OK."
        quiet_hours: [23, 8]
        window_lookback_hours: 8
      triggers:
        - name: "daily_briefing"
          schedule: "0 9,12,15,18 * * *"
          task: "生成今日工作简报：总结待办事项、OKR 进展和需要关注的事项，输出简洁的状态看板。"
          channel: "web"
          user_id: "cklxx"
    timer:
      enabled: true
      store_path: "~/.alex/timers"
      max_timers: 100
      task_timeout_seconds: 900
      heartbeat_enabled: false
      heartbeat_minutes: 30
    attention:
      max_daily_notifications: 5
      min_interval_seconds: 1800
      quiet_hours: [22, 8]
      priority_threshold: 0.6
    kernel:
      enabled: true
      kernel_id: "default"
      schedule: "*/30 * * * *"
      channel: "lark"
      user_id: "cklxx"
  tool_policy:
    enforcement_mode: "warn_allow"
  external_agents:
    max_parallel_agents: 4
    claude_code:
      enabled: false
      binary: "claude"
      default_mode: "autonomous"
      autonomous_allowed_tools:
        - "*"
      plan_allowed_tools:
        - "Read"
        - "Glob"
        - "Grep"
        - "WebSearch"
      max_turns: 50
      timeout: "30m"
      resume_enabled: true
      env:
        ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"
    codex:
      enabled: false
      binary: "codex"
      default_model: "gpt-5.2-codex"
      approval_policy: "never"
      sandbox: "danger-full-access"
      plan_approval_policy: "never"
      plan_sandbox: "danger-full-access"
      timeout: "30m"
      resume_enabled: true
      env:
        OPENAI_API_KEY: "${OPENAI_API_KEY}"
    teams:
      - name: "execute_and_report"
        description: "Codex executes technical tasks, Claude Code summarizes results"
        roles:
          - name: "executor"
            agent_type: "codex"
            prompt_template: |
              [Team Role: Technical Executor]
              You are executing a technical task as part of a team workflow.
              Complete the following goal with concrete implementation.
              Report all files changed, commands run, and test results.

              Goal: {GOAL}

              Execute immediately. Do not ask for clarification.
            execution_mode: "execute"
            autonomy_level: "full"
            workspace_mode: "worktree"
            config:
              task_kind: "coding"
              verify: "true"
              merge_on_success: "true"
          - name: "reporter"
            agent_type: "claude_code"
            prompt_template: |
              [Team Role: Reporter / Summarizer]
              You are summarizing execution results as part of a team workflow.
              The executor has completed their work. Their results are in the
              Collaboration Context above.

              Produce a structured summary:
              1. Accomplishments
              2. Key decisions
              3. Files changed and their purpose
              4. Issues / follow-ups
              5. Overall assessment

              Original goal: {GOAL}
            execution_mode: "execute"
            autonomy_level: "full"
            workspace_mode: "shared"
            inherit_context: true
        stages:
          - name: "execution"
            roles: ["executor"]
          - name: "reporting"
            roles: ["reporter"]
session:
  dir: "${ALEX_WEB_SESSION_DIR}"
attachments:
  provider: "cloudflare"
  dir: "${ALEX_WEB_ATTACHMENT_DIR}"
  cloudflare_account_id: "${CLOUDFLARE_ACCOUNT_ID}"
  cloudflare_access_key_id: "${CLOUDFLARE_ACCESS_KEY_ID}"
  cloudflare_secret_access_key: "${CLOUDFLARE_SECRET_ACCESS_KEY}"
  cloudflare_bucket: "${CLOUDFLARE_BUCKET}"
  cloudflare_public_base_url: "${CLOUDFLARE_PUBLIC_BASE_URL}"
  cloudflare_key_prefix: "${CLOUDFLARE_ATTACHMENT_KEY_PREFIX}"
server: {}
