Summary: Availability-first hardening plus dual-condition ranking heuristics removed all foundation bad cases in three target modes.
Impact: Top-3 hit rate reached 100% with zero availability errors, while avoiding regression from over-broad token matching.
