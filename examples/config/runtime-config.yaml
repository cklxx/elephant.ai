# Unified configuration for Alex.
runtime:
  llm_provider: "openai"
  llm_model: "gpt-4o-mini"
  llm_vision_model: "gpt-4o-mini"
  api_key: "${OPENAI_API_KEY}"
  base_url: "https://api.openai.com/v1"
  sandbox_base_url: "http://localhost:18086"
  tool_preset: "safe"
  # proactive:
  #   final_answer_review:
  #     enabled: true
  #     max_extra_iterations: 1
  # tool_max_concurrent: 8
  # user_rate_limit_rps: 1.0
  # user_rate_limit_burst: 3

# Optional: server + auth + attachments sections (uncomment to use).
# server:
#   port: "8080"
#   enable_mcp: true
#   max_task_body_bytes: 20971520
#   stream_max_duration_seconds: 7200
#   stream_max_bytes: 67108864
#   stream_max_concurrent: 128
#   rate_limit_requests_per_minute: 600
#   rate_limit_burst: 120
#   non_stream_timeout_seconds: 30
#   event_history_retention_days: 30
#   allowed_origins:
#     - "http://localhost:3000"
# auth:
#   jwt_secret: "${AUTH_JWT_SECRET}"
#   access_token_ttl_minutes: "15"
#   refresh_token_ttl_days: "30"
#   redirect_base_url: "http://localhost:8080"
#   database_url: "${AUTH_DATABASE_URL}"
# session:
#   database_url: "${ALEX_SESSION_DATABASE_URL}"
#   pool_max_conns: 25
#   pool_min_conns: 5
#   pool_max_conn_lifetime_seconds: 3600
#   pool_max_conn_idle_seconds: 1800
#   pool_health_check_seconds: 30
#   pool_connect_timeout_seconds: 5
#   cache_size: 256
# attachments:
#   provider: "cloudflare"
#   cloudflare_account_id: "${CLOUDFLARE_ACCOUNT_ID}"
#   cloudflare_access_key_id: "${CLOUDFLARE_ACCESS_KEY_ID}"
#   cloudflare_secret_access_key: "${CLOUDFLARE_SECRET_ACCESS_KEY}"
#   cloudflare_bucket: "${CLOUDFLARE_BUCKET}"
#   cloudflare_public_base_url: "${CLOUDFLARE_PUBLIC_BASE_URL}"

# Optional: managed overrides (written by `alex config set/clear`).
# overrides:
#   llm_model: "deepseek/deepseek-chat"
