# 研究控制台风格 Web UI 重构方案

## 设计目标
- 参考截图中的极简研究面板，打造顶部问候卡片 + 三栏自适应布局的浅色工作台。
- 统一语言（默认英文，可切换中文）与组件样式，让按钮、徽章、列表在不同模块保持一致节奏。
- 加强信息分区：左侧状态与会话、中央任务与事件、右侧指引与时间线，减少冗余文案。
- 保持现有数据流、SSE 事件与 Zustand 状态逻辑不变，保证功能稳定迁移。

## 结构布局
1. **页面骨架**
   - `console-shell` 最大宽度调整为 `max-w-7xl`，配合全屏 `bg-app-canvas` 渐变营造柔和留白。
   - 主体采用 `xl:grid-cols-[250px_minmax(0,1fr)_300px]`，小屏自动堆叠，保证三栏在宽屏紧凑呈现。

2. **左侧概览面板**
   - 顶部状态卡展示当前会话 ID、连接状态、Mock 提示与时间线/会话进度摘要，提供 `Reset` 操作。
   - 下方会话卡分区列出置顶与最近会话，支持在列表中直接重命名、固定、清空选择。

3. **中央任务与事件面板**
   - 顶部英雄卡：问候语 + 快速导航卡片（参考 screenshot 中的功能豆腐块）+ 紧凑 `TaskInput`。
   - 事件卡：重新排版 `TerminalOutput` 空态、时间戳与移动端时间线入口，桌面端右侧保持粘性时间线。

4. **右侧指引面板**
   - `Common tasks` 快速入口使用浅灰卡片，右下角提供时间线提示文案，呼应截图中的轻指引模块。

## 视觉语言
- **颜色**：背景渐变更柔和（浅灰 + 淡蓝光晕），主色维持天蓝，所有按钮/徽章统一使用主色与灰阶中性色。
- **阴影与圆角**：`console-panel` 更新为 `rounded-[28px]` + 0.04 透明度阴影，卡片统一 24px 圆角，贴合截图的平滑体量感。
- **排版**：标题、标签采用紧凑大写字距 (`tracking-[0.3em]`)，正文走 12-14px 细节文字，减少辅助文案干扰。
- **滚动条**：继续使用 `console-scrollbar`，缩窄 6px 宽度以配合压缩布局。

## 交互要点
- `Reset` 操作用于清空当前会话、事件与焦点状态，Mock 指示器保留在同一区块。
- 点击历史会话仍触发 `handleSessionSelect`，并保持置顶与重命名行为的一致性。
- `TaskInput` 继续支持 Enter 提交/Shift+Enter 换行，同时压缩高度，按钮与输入框高度对齐。
- 事件列表默认展示紧凑卡片，移动端通过顶部按钮打开时间线 Dialog。

## 验收方案
1. **视觉验收**
   - 对比参考截图，确认问候卡排版、三列比例、卡片阴影与浅灰背景符合预期。
   - 观察按钮、徽章、标签色调是否在全局保持一致。
2. **功能回归**
   - 任务提交：Mock 与真实模式均可提交任务，事件实时刷新。
   - 会话切换：置顶/最近列表可切换，事件重连无异常。
   - Reset：点击后会话、事件、输入框全部回到初始状态。
3. **响应式验收**
   - `lg` 以上保持双列，`md` 以下堆叠，确保 TaskInput 不溢出。
   - 滚动区域在移动端可流畅滑动。
4. **可访问性**
   - 检查主要交互元素拥有可见焦点（Tailwind `focus:ring` 样式）。
   - 确保按钮文本对比度满足 WCAG AA。
5. **自动化与手动测试**
   - 执行新增的 Playwright E2E 覆盖关键路径（布局元素渲染、会话切换、新建会话、Mock 指示器）。
   - 手动模拟网络断开，确认 `ConnectionStatus` 呈现“Disconnected”且可点击重连。

## 待完成任务
- **终端事件卡进一步轻量化**：将工具输出与系统通知做折叠处理，贴合截图中更低的信息密度。
- **快速指引交互化**：当前为静态文案，后续需要跳转或预填任务能力。
- **小屏优化**：为 <768px 设备设计独立的任务输入与时间线切换方案，防止三栏布局堆叠过长。
- **主题与暗色支持**：新配色暂未同步到暗色方案，需补充对比度校正与 Token 映射。
