# 研究控制台风格 Web UI 重构方案

## 设计目标
- 参考业内领先的研究控制台界面，构建轻盈、通透、白底的控制台体验。
- 强调左侧会话管理与右侧实时对话流的并列布局，突出“研究管控”氛围。
- 提升视觉层次：圆角面板、柔和阴影、蓝绿色点缀与中文提示文字，让产品在国内场景中易于理解。
- 保持与现有数据流、状态管理逻辑兼容，不破坏 SSE 事件流与任务执行 Hook。

## 结构布局
1. **页面骨架**
   - 使用 `console-shell` 设定最大宽度 6xl、中心对齐，背景采用多层渐变 (`bg-app-canvas`) 营造柔和光感。
   - 维持 `main` 填满视窗高度，保证左右两列面板在不同屏幕下保持平衡。

2. **左侧概览面板**
   - 顶部：`ALEX Console` 标题 + 当前状态说明，使用中文辅助文案。
   - 中段：连接状态卡片，包含 `ConnectionStatus`、Mock Stream 指示、新建对话按钮。
   - 会话历史：绑定 `sessionHistory`，可点击切换会话，支持自动标记激活状态。
   - 快速指引：列出常见用例，帮助首次用户。

3. **右侧实时面板**
   - Header：展示 `Live Thread`、会话编号、自动保存时间戳、任务说明文字。
   - 内容区：`TerminalOutput` 输出（经过样式重塑，卡片式事件流）。空状态以徽章 + 文案呈现。
   - 底部输入：`TaskInput` 新样式（圆角、渐变阴影、双语快捷提示）。

4. **Sessions 页面**
   - 复用 `console-shell` + `console-panel`，统一视觉语言。
   - 新建按钮呼应主界面风格。

## 视觉语言
- **颜色**：主色 `--primary` 调整为 研究控制台风格 Azure (#1da1f2 附近)，配合偏灰背景、明亮白卡片。
- **阴影与圆角**：核心面板 `rounded-3xl` + `shadow-[0px_18px_60px_rgba(15,23,42,0.08)]`，列表项 `rounded-xl`。
- **排版**：Inter 字体，`console-pane-title` 强调字距，`console-section-title` 强调模块标题。
- **滚动条**：自定义 `console-scrollbar`，提升长对话阅读体验。

## 交互要点
- 新建会话按钮触发 `handleClear`，重置本地状态并清空事件。
- 点击历史会话调用 `handleSessionSelect`，会更新本地与 Zustand 中的 `currentSessionId`，触发 SSE 重新连接。
- 输入框保留 Enter 发送、Shift+Enter 换行逻辑，按钮在加载时显示动效。
- 输出卡片通过 `TerminalOutput` 重新设计，保留过滤功能但在视觉上转向“聊天气泡/卡片”风格。

## 验收方案
1. **视觉验收**
   - 对比参考截图，确认主色调、圆角、阴影、布局比例与截图一致。
   - 检查暗色模式颜色是否仍可读（虽然主流程为浅色）。
2. **功能回归**
   - 任务提交：Mock 模式与真实后端模式均能提交任务并展示事件流。
   - 会话切换：历史列表可点击，事件流重新连接，无报错。
   - 新建会话：清空当前会话、事件、输入框。
3. **响应式验收**
   - `lg` 以上保持双列，`md` 以下堆叠，确保 TaskInput 不溢出。
   - 滚动区域在移动端可流畅滑动。
4. **可访问性**
   - 检查主要交互元素拥有可见焦点（Tailwind `focus:ring` 样式）。
   - 确保按钮文本对比度满足 WCAG AA。
5. **自动化与手动测试**
   - 执行新增的 Playwright E2E 覆盖关键路径（布局元素渲染、会话切换、新建会话、Mock 指示器）。
   - 手动模拟网络断开，确认 `ConnectionStatus` 呈现“Disconnected”且可点击重连。

## 后续迭代建议
- 为会话历史增加重命名、固定功能。
- 在右侧事件流内加入用户消息气泡与 AI 消息分组，让“聊天感”更强。
- 扩展多语言切换（中/英），提高国际化兼容性。
