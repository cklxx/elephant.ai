version: '1'
name: foundation-memory-capabilities
description: 'Systematic memory capability routing coverage: retrieve, inspect, reconcile,
  and memory-informed execution'
scenarios:
- id: memory-search-architecture-decision
  category: memory_capabilities
  intent: Use memory_search to find prior architecture decision for agent ports boundary.
  expected_tools:
  - memory_search
- id: memory-search-incident-signature
  category: memory_capabilities
  intent: memory_search historical incident signature before proposing remediation.
  expected_tools:
  - memory_search
- id: memory-search-release-risk-pattern
  category: memory_capabilities
  intent: Run memory_search for previous release risk patterns and mitigations.
  expected_tools:
  - memory_search
- id: memory-get-exact-lines
  category: memory_capabilities
  intent: Use memory_get to open exact note lines for citation evidence.
  expected_tools:
  - memory_get
- id: memory-get-root-cause-context
  category: memory_capabilities
  intent: memory_get detailed root-cause context from the selected memory note.
  expected_tools:
  - memory_get
- id: memory-get-conflict-resolution-note
  category: memory_capabilities
  intent: Open conflict-resolution guidance with memory_get before action.
  expected_tools:
  - memory_get
- id: memory-search-then-get-chain
  category: memory_capabilities
  intent: First memory_search related notes, then memory_get the best matching entry.
  expected_tools:
  - memory_search
  - memory_get
- id: memory-cross-session-recall
  category: memory_capabilities
  intent: Recover cross-session decision history via memory_search and memory_get.
  expected_tools:
  - memory_search
  - memory_get
- id: memory-regression-guard-check
  category: memory_capabilities
  intent: memory_search regression guardrails before patching risky code.
  expected_tools:
  - memory_search
- id: memory-ambiguity-needs-clarify
  category: memory_capabilities
  intent: Memory notes conflict on policy; clarify which policy version applies.
  expected_tools:
  - clarify
- id: memory-user-gated-sensitive-note
  category: memory_capabilities
  intent: Need user permission before opening sensitive memory note with memory_get.
  expected_tools:
  - request_user
  - memory_get
- id: memory-informed-plan
  category: memory_capabilities
  intent: Build plan using memory_search outputs and checkpoints from prior incidents.
  expected_tools:
  - memory_search
  - plan
- id: memory-informed-code-fix
  category: memory_capabilities
  intent: memory_search prior fix pattern, memory_get details, then replace_in_file
    patch.
  expected_tools:
  - memory_search
  - memory_get
  - replace_in_file
- id: memory-informed-shell-verify
  category: memory_capabilities
  intent: Lookup memory note first, then shell_exec validation command sequence.
  expected_tools:
  - memory_search
  - shell_exec
- id: memory-informed-test-snippet
  category: memory_capabilities
  intent: memory_get expected edge cases and execute_code deterministic check.
  expected_tools:
  - memory_get
  - execute_code
- id: memory-report-artifact
  category: memory_capabilities
  intent: After memory_search, persist conclusion as artifacts_write report.
  expected_tools:
  - memory_search
  - artifacts_write
