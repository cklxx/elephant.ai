# 清理与删除计划模板

## 识别标准

以下代码应被标记为清理候选：
- 未被引用的函数、类型、变量、常量。
- 注释掉的代码块。
- 被 feature flag 永久关闭的分支。
- 已迁移到新实现但旧实现未删除的代码。
- 过时的 TODO/FIXME/HACK 标记。
- 仅在测试中被引用但已无对应功能的 helper。

## 分类

### 可立即安全删除

| 位置 | 描述 | 理由 | 验证方式 |
|------|------|------|----------|
| `file:line` | 具体描述 | 为什么可以安全删除 | 如何验证删除后不影响功能 |

### 需延迟删除（附计划）

| 位置 | 描述 | 延迟原因 | 前置条件 | 目标时间 | 负责人 |
|------|------|----------|----------|----------|--------|
| `file:line` | 具体描述 | 为什么不能现在删除 | 需要什么条件才能删除 | 预期时间 | 谁负责 |

## 删除前检查清单

- [ ] 全文搜索引用（包括字符串引用、反射调用、配置文件）
- [ ] 检查是否有外部消费者（其他服务、SDK 用户）
- [ ] 检查动态调用（Go 的 `reflect`、接口断言）
- [ ] 确认测试覆盖了删除后的路径
- [ ] 确认 CI/CD 流水线不依赖被删除的代码

## 删除后验证

- [ ] lint 通过（无未使用的导入/变量）
- [ ] 全量测试通过
- [ ] 编译成功（包括跨平台编译如果适用）
- [ ] 确认无运行时 panic（尤其是接口断言、map 访问）
